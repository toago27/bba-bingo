<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å†…å®šè€…æ‡‡è¦ªä¼šBBQãƒ“ãƒ³ã‚´</title>
<style>
:root{--bg:#f8fafc;--card:#fff;--accent:#0ea5a4;--text:#111;--muted:#777;}
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN",Meiryo,Roboto,Arial,sans-serif;
background:var(--bg);color:var(--text);margin:0;padding:18px;}
.container{max-width:700px;margin:auto;}
h1{font-size:22px;margin-bottom:4px;}
.sub{color:var(--muted);font-size:14px;margin-bottom:18px;}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;}
.cell{background:var(--card);padding:12px;min-height:70px;border-radius:10px;
display:flex;align-items:center;justify-content:center;text-align:center;
font-size:13px;cursor:pointer;user-select:none;box-shadow:0 1px 3px rgba(0,0,0,0.08);}
.cell.marked{background:linear-gradient(135deg,var(--accent),#38bdf8);color:#fff;}
.center{font-weight:bold;background:#e0f7f5;}
.controls{display:flex;flex-wrap:wrap;gap:8px;margin-top:16px;}
.btn{flex:1;padding:10px;border:none;border-radius:8px;cursor:pointer;font-size:14px;}
.primary{background:var(--accent);color:#fff;}
.secondary{background:#fff;border:1px solid #ccc;}
.footer{margin-top:14px;font-size:12px;color:var(--muted);text-align:center;}
</style>
</head>
<body>
<div class="container">
  <h1>å†…å®šè€…æ‡‡è¦ªä¼š BBQãƒ“ãƒ³ã‚´ ğŸ¯</h1>
  <div class="sub">ãƒã‚¹ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãƒãƒ¼ã‚¯ï¼é–‹ããŸã³ã«ãƒ©ãƒ³ãƒ€ãƒ ã§ã‚«ãƒ¼ãƒ‰ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚</div>
  <div id="grid" class="grid"></div>
  <div class="controls">
    <button id="new" class="btn secondary">æ–°ã—ã„ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹</button>
    <button id="share" class="btn primary">ã“ã®ã‚«ãƒ¼ãƒ‰ã®URLã‚’ã‚³ãƒ”ãƒ¼</button>
  </div>
  <div class="footer">Â© BBQå†…å®šè€…æ‡‡è¦ªä¼š</div>
</div>

<script>
const items = [
"ç„¼ããã°é£Ÿã¹ãŸ","ã€Œã“ã‚Œç„¼ã‘ã¦ã¾ã™ï¼Ÿã€ã£ã¦èã„ãŸ","å†™çœŸæ’®ã£ãŸğŸ“¸","ç‚­ãŒå¼·ã™ãã¦é¿é›£","åæœ­ã®èª­ã¿æ–¹ã‚’é–“é•ãˆãŸ",
"ç„¼ãå¥‰è¡ŒãŒèª•ç”ŸğŸ”¥","ã€Œä¹¾æ¯ï¼ã€ã‚’è¨€ã„ãã³ã‚ŒãŸ","ã‚¿ãƒ¬ã“ã¼ã—ãŸ","ãƒã‚·ãƒ¥ãƒãƒ­ç„¼ã„ãŸğŸ¡","ã€ŒãŠè‚‰è¶³ã‚Šãªããªã„ï¼Ÿã€ã£ã¦è¨€ã£ãŸ",
"ç…™ãŒç›®ã«å…¥ã£ãŸğŸ˜­","èª°ã‹ãŒãšã£ã¨ãƒˆãƒ³ã‚°æŒã£ã¦ã‚‹","ã€Œã‚‚ã†ãŠè…¹ã„ã£ã±ã„ã€œã€","å†™çœŸæ’®ã‚Šç›´ã—3å›ç›®ğŸ“·","ç‰‡ä»˜ã‘ã‚ã£ã¡ã‚ƒé ‘å¼µã£ã¦ã‚‹äºº",
"é£²ã¿ç‰©ã¬ã‚‹ã„ğŸ¥¤","è‡ªå·±ç´¹ä»‹ã§å™›ã‚“ã ","ç„¼ããŠã«ãã‚Šç™»å ´ğŸ™","å…ˆè¼©ã«è‚‰ã‚’ã‚‚ã‚‰ã£ãŸğŸ–","é¢¨ã§ç´™çš¿ãŒé£›ã‚“ã ğŸ’¨",
"é‡èœã‚’ã¡ã‚ƒã‚“ã¨é£Ÿã¹ãŸ","ã€Œã“ã®ä¼šç¤¾å…¥ã£ã¦ã‚ˆã‹ã£ãŸã€œã€ã£ã¦èª°ã‹ãŒè¨€ã£ãŸ","è™«ã«åˆºã•ã‚ŒãŸğŸ¦Ÿ","ç· ã‚ã®ç„¼ããã°å¤§äººæ°—ï¼"
];

function shuffle(arr){const a=[...arr];for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

function newCard(seed){
  const arr=shuffle(items);
  const cells=[];
  let i=0;
  for(let r=0;r<5;r++){
    for(let c=0;c<5;c++){
      if(r===2 && c===2){cells.push("FREE");}
      else{cells.push(arr[i++]);}
    }
  }
  return cells;
}

function render(){
  const grid=document.getElementById("grid");
  grid.innerHTML="";
  cells.forEach((text,idx)=>{
    const div=document.createElement("div");
    div.textContent=text;
    div.className="cell"+(text==="FREE"?" center":"");
    if(marked[idx])div.classList.add("marked");
    div.onclick=()=>{
      if(text==="FREE")return;
      marked[idx]=!marked[idx];
      saveState();
      render();
    };
    grid.appendChild(div);
  });
}

function saveState(){
  localStorage.setItem("bbq_bingo_state",JSON.stringify({cells,marked}));
}

function loadState(){
  const v=localStorage.getItem("bbq_bingo_state");
  return v?JSON.parse(v):null;
}

let state=loadState();
let cells,marked;
if(state){cells=state.cells;marked=state.marked;}
else{cells=newCard();marked={};}

render();

document.getElementById("new").onclick=()=>{
  cells=newCard();
  marked={};
  saveState();
  render();
};
document.getElementById("share").onclick=async()=>{
  const url=location.href;
  try{await navigator.clipboard.writeText(url);alert("ã“ã®ãƒšãƒ¼ã‚¸ã®URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");}
  catch{prompt("URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ï¼š",url);}
};
</script>
</body>
</html>
